<script>
onmessage = (event) => {
  document.getElementById("gerber").textContent = event.data.pluginMessage
}

function copyGerberText(){
    var el = document.getElementById("gerber")
    el.focus();
    el.select();
    document.execCommand('copy');
}
</script>

<div style = "
    color: var(--figma-color-text); 
    margin: 2rem; 
    border-radius: 0.2em;
    ">
<div style = "
    display: flex;
    flex-direction: row;
    gap: 1rem;
    margin-bottom: 0.5rem;
    font-family: monospace;
    align-items: center;
    ">
    <span>figma 2 pcb waow! v0.0.1</span>
    <button style = "padding: 0.2rem;" onClick="copyGerberText()">copy</button>
    </div>
    <div style = "
        padding: 1rem;
        border-radius: 0.2em;
        background-color: #0000002a; 
        color: black;
        height: 50%;
    ">
        <textarea id = "gerber" style = "font-family: monospace; resize: none; width: 100%; height: 100%"></textarea>
    </div>
</div>